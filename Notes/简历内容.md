## 1 项目经历

### 1.1 **分布式即时通讯系统（GoIM）**

2024.12 - 2025.3

**技术栈**：Golang、gRPC、etcd、Redis、RocketMQ、MySQL、Gin、WebSocket、Docker

传统单体架构难以支撑高并发消息推送与实时通信需求。我设计并实现了一个 **基于分布式微服务架构** 的 IM 系统，支持海量用户实时聊天，具备高并发、低延迟的消息投递能力。

- **架构设计**：采用 **四层架构（API → Logic → Task → Connect）**，各层间通过 gRPC 通信，减少耦合，便于水平扩展。

- **服务发现**：基于 **etcd** 实现 **服务注册与发现**，采用 gRPC resolver 进行负载均衡，并结合 **InstanceID 路由策略** 实现 **定向消息投递**，提升系统弹性。

- **消息队列**：基于 Redis Stream 实现**双消费组架构**消息队列，**推送组**负责实时投递，确保低延迟；**持久化组**负责存储到 MySQL，确保数据可靠性。

- **长连接优化**：通过 WebSocket 实现长连接管理，基于心跳检测与连接复用，确保连接稳定性和提高资源利用率。

- **容器化部署**：通过 Docker Compose 编排多实例集群，确保环境一致性，支持高可用与弹性伸缩，提升运维部署效率。

系统可支撑 **10 万级 QPS**，单条消息投递延迟控制在 **50ms 内**。通过 **消息确认与持久化机制** 确保可靠性，并基于 **etcd 服务发现**确保故障恢复时间**小于 1s**。
